function get(e,t=function(){}){const n=new XMLHttpRequest;n.onload=function(){t(n.responseText,n.status)},n.open("get",e),n.setRequestHeader("X-CSRFTOKEN",getCookie("csrftoken")),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send()}function post(e,t,n){const o=new XMLHttpRequest;o.onload=function(){n(o.responseText,o.status)},o.open("post",e),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("X-CSRFTOKEN",getCookie("csrftoken")),o.send(t)}function getCookie(e){let t=null;if(document.cookie&&""!=document.cookie){const n=document.cookie.split(";");for(let o=0;o<n.length;++o){const s=n[o].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t}}function load_view(e,t="get",n={},o=function(){},s=function(){}){console.log("load view...");const d=document.getElementById("drawer");var c;d.showLoader(),d.open(),"get"===(t=t.toLowerCase())?get(e,function(e,t){200===t?(d.hideLoader(),d.setContent(e),o()):(d.hideLoader(),s())}):"post"===t&&post(e,n,(c=d,function(e,t){200===t?(c.hideLoader(),c.setContent(e),o()):(c.hideLoader(),s())}))}function open_cart(){const e=document.createElement("p");e.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);",e.innerText="سبد خرید",document.getElementById("drawer").addHeader(e),load_view("/cart/")}function checkout(){load_view("/cart/checkout/")}function get_add_product_view(e){load_view("/product/add/")}function get_selecteds(e,t,n=!1){const o=document.getElementById(e).children;let s="",d="";for(let e=0;e<o.length;++e)if(d+=","+o[e].dataset.id,o[e].classList.contains("selected")){if(t)return o[e].dataset.id;s+=","+o[e].dataset.id}return""!=s&&(s=s.slice(1,s.length)),s}function validate_field(e){console.log("validate...");const t=new RegExp(e),n=event.target;t.test(n.value)?n.classList.remove("error"):n.classList.add("error")}function change_preview(){const e=document.getElementById("gallery-preview");if(target=event.target,target.classList.contains("thumb")){e.src=event.target.src;const t=target.parentNode.children;for(let e=0;e<t.length;++e)t.classList.remove("thumb-active");target.classList.add("thumb-active")}}function get_attrs(){const e=document.getElementById("attr-list").children;let t=new Map;for(let n=1;n<e.length;++n)key_value=e[n].children[0].innerHTML.split(":"),t[key_value[0]]=key_value[1];return console.log(t),JSON.stringify(t)}function prepare_product_info(e){let t="";const n=document.getElementById("keywords");if(n){for(let e of n.tags)t+=","+e;t=t.slice(1,t.length)}let o=!1;const s=get_attrs();console.log(s);const d=document.getElementById("name").value;d?(document.getElementById("product-name-error-box").innerText="",o=!1):(document.getElementById("product-name-error-box").innerText="نام محصول را وارد کنید",o=!0);const c=document.getElementById("description").value,r=document.getElementById("quantity").value;r?(document.getElementById("product-quantity-error-box").innerText="",o=!1):(document.getElementById("product-quantity-error-box").innerText="تعداد بین 1 تا 100",o=!0);const a=document.getElementById("price").value;if(a?(document.getElementById("product-price-error-box").innerText="",o=!1):(document.getElementById("product-price-error-box").innerText="قیمت را وارد کنید",o=!0),o)return!1;const l=get_selecteds("brands",!0,!0),i=get_selecteds("types",!0,!0),u=get_selecteds("categories",!1,!0),m=get_selecteds("subtypes",!0,!0),g="true"==document.getElementById("free_delivery").checked?"true":" ";console.log(g,"ffff");const p=document.getElementById("colors").children;let f="";for(let e=0;e<p.length;++e)p[e].classList.contains("inline-item--selected")&&(f+=","+p[e].dataset.id);""!=f&&(f=f.slice(1,f.length));const _=document.getElementById("sizes").children;let y="";for(let e=0;e<_.length;++e)_[e].classList.contains("inline-item--selected")&&(y+=","+_[e].dataset.id);""!=y&&(y=y.slice(1,y.length));const h=new FormData;if(h.append("name",d),h.append("price",a),h.append("description",c),h.append("quantity",r),h.append("keywords",t),p&&h.append("colors",f),_&&h.append("sizes",y),i&&h.append("type",i),m&&h.append("subtype",m),s&&h.append("attrs",s),h.append("is_available","True"),u&&h.append("categories",u),l&&h.append("brand",l),h.append("free_delivery",g),"add"==e){const e=document.getElementById("images").files;for(let t=0;t<e.length&&t<=5;t++)h.append("images",e[t])}return h}function toggle_search_box(){document.getElementById("search-box").classList.toggle("show-box")}function add_product(e){const t=prepare_product_info("add");if(!t)return void(document.getElementById("product-add-error-box").innerText="خطا: لطف موارد خواسته شده را تکمیل کند");console.log(t);const n=new XMLHttpRequest;n.open("POST","/product/add/"),n.setRequestHeader("X-CSRFToken",getCookie("csrftoken")),n.onload=(()=>{if(200==n.status){const e=document.getElementById("drawer");e.hideLoader(),e.setContent(n.responseText)}}),document.getElementById("drawer").showLoader(),n.send(t)}function edit_product(){const e=prepare_product_info("edit");if(!e)return void(document.getElementById("product-add-error-box").innerText="خطا: لطف موارد خواسته شده را تکمیل کند");const t=document.getElementById("id").value,n=new XMLHttpRequest;n.open("POST","/product/edit/"+t+"/"),n.setRequestHeader("X-CSRFToken",getCookie("csrftoken")),n.onload=(()=>{if(200==n.status){const e=document.getElementById("drawer");e.hideLoader(),e.setContent("success")}n.status}),document.getElementById("drawer").showLoader(),n.send(e)}function changeimg(){event.target.dataset.num;const e=event.target.dataset.img,t=document.getElementById(e),n=t.dataset.id,o=event.target;if(0==o.files.length)return;const s=o.files[0];if(Math.round(s.size/1024)>150)return void alert("حجم فایل باید کمتر از 150 کیلوبایت باشد");const d=new XMLHttpRequest;d.onload=(()=>{200==d.status&&(path=d.responseText,t.src=path,document.getElementById("drawer").hideLoader())}),d.open("POST","/product/change_image/");const c=new FormData;c.append("image",s),c.append("id",n),d.setRequestHeader("X-CSRFToken",getCookie("csrftoken")),document.getElementById("drawer").showLoader(),d.send(c)}function update_cart_badge(e,t=0){const n=document.getElementById("cart-num-badge");let o=n.innerText;if("99+"===o)return;let s=parseInt(o);switch(e){case"increment":n.innerText=s+1>99?"99+":s+1;break;case"decrement":n.innerText=s-1>=0?s-1:0;break;case"add":const o=s+parseInt(t);n.innerText=o>99?"99+":o;break;case"subtract":const d=s-parseInt(t);n.innerText=d>=0?d:0}}function update_cart_summary(){}function isNumber(e){var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}function validateName(e){var t=(e=e||window.event).key;console.log(t);return!(".+--)(*&^%$#@!~`,/'\";:][|=".indexOf(t)>0)}function validate_shop_name(e){var t=(e=e||window.event).key;console.log(t);return!(".+--)(*&^%$#@!~`,/'\";:][|= ".indexOf(t)>0)}function validate_email(){const e=event.target.value.trim(),t=new RegExp(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/),n=document.getElementById("email-error");if(console.log(t.test(e)),!t.test(e))return n.innerText="ایمیل معتبر نمیباشد",void event.target.focus();n.innerText="",get("/users/check_email?email="+e,function(e,t){document.getElementById("email-error").innerText=200!=t?"ایمیل قبلا ثبت شده است":""})}function open_search(){console.log("search...")}function open_dashboard(){load_view("/users/dashboard")}function open_favourites(){load_view("/favourites/")}function add_to_favourites(){const e=document.getElementById("product_id").value,t=event.target;let n=document.getElementById("like-counts");counts_val=+n.innerText,t.classList.contains("liked")?get("/favourites/remove/"+e+"/",function(e,o){200===o&&(counts_val>0&&(counts_val-=1),n.innerText=counts_val,t.classList.remove("liked"))}):get("/favourites/add/"+e+"/",function(e,o){200===o&&(t.classList.add("liked"),counts_val+=1,n.innerHTML=counts_val,open_favourites())})}function remove_product_dialog(e,t){console.log("remove product dialog...");const n=document.getElementById("remove-dialog-box").content.cloneNode(!0);n.getElementById("accept-button").addEventListener("click",e),n.getElementById("reject-button").addEventListener("click",t),document.getElementById("drawer").open(),document.getElementById("drawer").setcc(n)}function add_to_cart_in_detail_page(){let e=null,t=null;const n=document.getElementById("product_id").value;try{e=document.getElementById("product_colors").getElementsByClassName("inline-item--selected").dataset.id,t=document.getElementById("product_sizes").getElementsByClassName("inline-item--selected").dataset.id}catch{}get("/cart/add/"+n+"/?color="+e+";size="+t,function(){update_cart_badge("add"),open_cart()})}function open_mobile_menu(){const e=document.getElementById("drawer"),t=document.getElementById("mobile_menu");e.setcc(t.content.cloneNode(!0)),e.open()}function showMegaMenu(){event.stopPropagation(),event.target.classList.add("cc"),document.getElementById("megamenu").style.display="flex"}var prev_cats="";function fetch_types(){const e=event.target;if(!e.classList.contains("item"))return;e.classList.contains("selected")||document.getElementById("types").replaceChildren("");const t=get_selecteds("categories",!1,!0);console.log(t,"categ..."),prev_cats!==t?(document.getElementById("types").replaceChildren(""),document.getElementById("subtypes").replaceChildren(""),get("/shop/types?cats="+t,function(e,t){if(200==t){const t=JSON.parse(e),n=new DocumentFragment;for(let e=0;e<t.types.length;++e){let o=document.createElement("div");o.dataset.id=t.types[e].id,o.dataset.hascolor=t.types[e].has_color,o.dataset.hassize=t.types[e].has_size,o.innerText=t.types[e].name,o.className="item",n.appendChild(o)}document.getElementById("types").replaceChildren(n)}})):console.log("null")}var prev_subtype="";function fetch_subtypes(){const e=document.getElementById("colors"),t=document.getElementById("sizes");if(!event.target.classList.contains("item"))return;event.target.classList.contains("selected")||document.getElementById("subtypes").replaceChildren("");const n=get_selecteds("categories",!1,!0),o=get_selecteds("types",!0,!0),s=event.target.dataset.hascolor,d=event.target.dataset.hassize;prev_subtype!==o&&(console.log("*********",s,d),"true"===s?e.classList.remove("hi"):e.classList.add("hi"),"true"===d?t.classList.remove("hi"):t.classList.add("hi"),console.log(o,"st----------"),o&&(document.getElementById("subtypes").replaceChildren(""),get("/shop/subtypes?cats="+n+"&type="+o,function(e,t){if(200==t){console.log("subtype");const t=JSON.parse(e);console.log(t);const n=new DocumentFragment;for(let e=0;e<t.subtypes.length;++e){let o=document.createElement("div");o.className="item",o.dataset.id=t.subtypes[e].id,o.innerText=t.subtypes[e].name,n.appendChild(o)}document.getElementById("subtypes").replaceChildren(n)}})))}function testcc(){load_view("/test"),console.log("ssaaa")}function closeMegaMenu(){const e=document.getElementById("prods");document.getElementById("megamenu").style.display="none",e.classList.remove("cc"),console.log("move...")}function get_enrollment_form(){load_view("/users/enrollment/")}function validate_phone_number(e){return console.log("validate..phone..."),new RegExp("^09[0-9]{9}$").test(e)}function enroll(){const e=document.getElementById("phone-no"),t=document.getElementById("phone-error");validate_phone_number(e.value)?(console.log(e.value),load_view("/users/enrollment/","post","phone_no="+e.value.trim())):t.innerText="شماره همراه وارد شده صحیح نمیباشد"}function show_search_page(){event.stopPropagation();const e=document.getElementById("search-page").innerHTML;set_view(e),showSidebox()}function _toggle_nav_actions(){document.getElementById("cart-icon").classList.remove("hi"),document.getElementById("user-icon").classList.remove("hi"),document.getElementById("login-button").classList.add("hi")}function dispatch_pay(){const e=document.getElementById("use_default_address").checked,t=document.forms["custom-address"];if(!e)for(let e=0;e<t.elements.length;e++){let n=t.elements[e].value.trim();if(""==n||"-1"==n)return console.log(t.elements[e]),void alert("خطا: لطفااطلاعات مربوط به آدرس خود را به طور کامل وارد کنید")}load_view("/cart/dispatcher?use_default_address="+e);const n=document.forms["custom-address"];let o=new FormData(n);window.address_form_data=o}function login(){const e=document.getElementById("password");document.getElementById("drawer").showLoader(),load_view("/users/login/","post","password="+e.value,success=function(){_toggle_nav_actions()},error=function(){document.getElementById("login-error").innerText="رمز عبور اشتباه است",document.getElementById("drawer").hideLoader()})}function verify_code(){const e=document.getElementById("verification-code"),t=document.getElementById("verification-error");load_view("/users/verification/","post","code="+e.value.trim(),function(){document.getElementById("drawer").hideLoader(),t.innerText="کد اشتباه است. دوباره تلاش کنید"})}function validate_password(){const e=document.getElementById("password").value,t=document.getElementById("confirm").value,n=document.getElementById("password-error"),o=document.getElementById("confirm-error");let s=RegExp("(?=.*[0-9])(?=.*[!@#$%^&*.])(?=.{8,})");return e!=t?(o.innerText="تکرار رمز عبور صحیح نمیباشد",!1):e.length<8?(n.innerText="رمز عبور باید حداقل هشت حرفی باشد",!1):!!s.test(e)||(n.innerText="رمز عبور باید شامل حروف اعداد و نمادها باشد",!1)}function set_password(){const e=document.getElementById("password").value,t=document.getElementById("confirm").value;validate_password()&&(document.getElementById("drawer").showLoader(),load_view("/users/set_password/","post","password="+e.trim()+"&confirm="+t.trim(),success=function(){_toggle_nav_actions()}))}function reset_password(){load_view("/users/reset_password/")}function get_profile(){load_view("/users/profile/","GET",null)}let num_of_comment_pages=0;function fetchComment(){const e=new XMLHttpRequest,t=document.getElementById("comment-box");e.onload=function(){200==e.status&&t.appendChild(e.responseText)},e.open("get","/product/comments/1/"),e.send()}function add_comment(){const e=document.getElementById("comment-body");if(""==e.value.trim())return void alert("نظر خود را بنویسید...");const t=document.getElementById("product_id").value,n=document.getElementById("author").value,o=document.getElementById("comment-submit");o.setAttribute("disabled",!0);const s=document.createElement("div");s.className="loader";const d=o.textContent;s.style="width:16px;height:16px;margin:0 auto;",o.replaceChildren(s);const c=new FormData;c.append("comment_body",e.value),c.append("comment_title","no"),post("/comments/product/"+t+"/leave/","comment_body="+e.value+"&comment_title=no",function(t,o){if(200!=o){const e=document.getElementById("comment-submit");return alert("خطا در ارسال نظر..."),e.replaceChildren(d),void e.setAttribute("disabled",!1)}const s=document.createElement("om-comment");s.setAttribute("author",n),s.setAttribute("body",e.value),s.setAttribute("date","اکنون...");const c=document.getElementById("comment-box"),r=document.getElementById("comment-submit");c.insertBefore(s,c.firstChild),e.remove(),r.remove()})}function get_edit_shop_form(){load_view("/shop/edit/")}function edit_shop(){const e=document.getElementById("shop_form");console.log(e);let t=new FormData(e);const n=document.querySelector("#states").children;let o="";for(let e=0;e<n.length;e++)if(n[e].classList.contains("selected")){let t=n[e].innerText;o+=","+t.slice(0,t.length).trim()}t.append("post_destinations",o.slice(1,o.length));const s=new XMLHttpRequest;s.open("POST","/shop/edit/"),s.setRequestHeader("X-CSRFToken",getCookie("csrftoken")),s.onload=(()=>{200==s.status&&(document.getElementById("drawer").hideLoader(),document.getElementById("drawer").setContent(s.responseText))}),document.getElementById("drawer").showLoader(),s.send(t)}function get_appeal_form(){load_view("/appeal/register/")}function validate_page_name(){const e=event.target;new RegExp("^[a-z0-9_]{4,}$").test(page_name)?e.classList.remove("error"):e.classList.add("error")}function make_appeal_for_boutique(){const e=new RegExp("^[a-z0-9_]{4,}$"),t=document.getElementById("page_name").value;console.log(t);const n=document.getElementById("page_name_error");e.test(t)||(n.value="نام بوتیک معتبر نمیباشد"),document.getElementById("drawer").showLoader(),post("/appeal/register/","page_name="+t+"&description=توضیحات",function(e,t){if(200==t){const e=document.getElementById("drawer");e.hideLoader(),e.setContent("درخواست شما ثبت شد...")}else n.value="این نام صفحه قبلاانتخاب شده است",document.getElementById("drawer").hideLoader()})}function showMegaMenu(){event.stopPropagation(),event.target.classList.add("cc"),document.getElementById("megamenu").style.display="flex"}function show_order_detail(){console.log("dssdsd");event.target.dataset.id;fetch(`/user/order/${order_id}/detail/`,{method:"GET"}).then(e=>{e.text().then(e=>{end_waiting(),set_view(e)})})}function show_shop_order_detail(){load_view("/shop/order/"+event.target.dataset.id+"/detail/")}function is_valid_email(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function is_valid_card(e){e=String(e);const t=new RegExp("^[0-9]{16}$");if(""!=e&&t.test(e)){let t=0,n="2121212121212121";for(let o=0;o<e.length;o++){let s=parseInt(e[o],10)*parseInt(n[o],10);s>9&&(s-=9),t+=s}return t%10==0}return!1}function cvt_fa_No_2_en(e){const t={"۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"};let n="";for(let o=0;o<e.length;++o)n+=t[e[o]];return n.length>0?n:e}function edit_profile(){form=document.getElementById("personal_info");const e=new FormData(form);console.log("------------------",e);const t=document.getElementById("profile-email").value,n=document.getElementById("profile-merchan_card").value,o=new Array;if(is_valid_email(t)||o.push("ایمیل نامعتبر است"),is_valid_card(n)||o.push("شماره کارت نامعتبر است"),""!==e.get("first_name").trim()&&""!==e.get("last_name").trim()||o.push("لطفا نام و نام خانوادگی خود را وارد کیند"),0!=o.length){const e=document.createDocumentFragment();for(let t=0;t<o.length;++t){let n=document.createElement("li");n.innerHTML=o[t],e.appendChild(n)}const t=document.createElement("ul");t.appendChild(e);const n=document.getElementById("drawer"),s=n.content,d=document.createElement("div");d.className="container vertical position--center",d.style="color:red;font-size:0.9rem;line-height: 1.3rem;",d.appendChild(t);const c=document.createElement("button");return c.className="btn cta mt-1 ",c.style="font-size:0.8rem",c.textContent="بازگشت",d.appendChild(c),n.setcc(d),void c.addEventListener("click",function(e,t){return function(){e.setContent(t)}}(n,s))}const s=new XMLHttpRequest;s.open("POST","/users/profile/"),s.setRequestHeader("X-CSRFToken",getCookie("csrftoken")),s.onload=(()=>{200==s.status&&(document.getElementById("drawer").setContent(s.responseText),document.getElementById("drawer").hideLoader())}),document.getElementById("drawer").showLoader(),s.send(e)}function apply_coupon(){const e=document.getElementById("coupon-code").value;if(8!=e.toString().length)return void alert("wrong");const t=new XMLHttpRequest;t.onload=(()=>{200==t.status&&(alert("success"),resp=JSON.parse(t.responseText),document.getElementById("total_sum").innerHTML="مبلغ"+resp.total+"تومان"),400==t.status&&alert("کوپن نامعتبر")}),t.open("GET","/cart/apply_coupon/"+e+"/"),t.setRequestHeader("content-type","application/x-www-form-urlencoded"),t.send()}function toggle_address(){document.getElementById("other-address").classList.toggle("hi")}function show_order_detail(){const e=event.target.dataset.id;fetch(`/user/order/${e}/detail/`,{method:"GET"}).then(e=>{e.text().then(e=>{document.getElementById("drawer").setContent(e)})}),document.getElementById("drawer").open()}function get_cities(e){let t=event.target.selectedOptions[0].dataset.pid;-1!=t&&fetch("/cities/?province_id="+t,{header:{"Content-type":"applicatin/json"}}).then(t=>{t.json().then(t=>{console.log(t);const n=document.getElementById(e),o=document.createDocumentFragment();n.innerHTML="";for(let e=0;e<t.cities.length;++e){let n=document.createElement("option");n.innerText=t.cities[e],o.appendChild(n)}n.appendChild(o)})})}function pay(){const e=document.getElementById("amount").value.trim();console.log(e);const t=new XMLHttpRequest,n=document.getElementById("drawer");n.showLoader(),t.onload=function(){n.hideLoader(),n.setContent(this.responseText),document.getElementById("cart-num-badge").innerText="0"},t.open("post","/payments/checkout/"),t.setRequestHeader("X-CSRFTOKEN",getCookie("csrftoken")),t.send(window.address_form_data)}function deposit_then_pay(){const e=document.getElementById("cart-total").value;window.open("/payments/deposit/?amount"+e+"&direct=true")}function deposit_account(){const e=document.getElementById("deposit-amount").value.trim();""!=e&&window.open("/payments/deposit/?amount="+e,"_self")}function widthraw_account(){const e=document.getElementById("widthraw-amount").value.trim();""!=e&&load_view("/account/withdraw?amount="+e)}function send_issue(){const e=document.getElementById("issue-subject").selectedItems,t=event.target,n=document.getElementById("issue-description");1!=e.length&&alert("لطفا موضوع را انتخاب کنید"),""===n.value.trim()&&alert("توضیحات خالیست");const o=t.innerText,s=document.createElement("div");s.className="loader";t.textContent;s.style="width:16px;height:16px;margin:0 auto;",t.replaceChildren(s),post("/issue/register/","subject="+e+"&description="+n.value,function(e,n){console.log(n,"....."),200===n?(t.disabled=!0,t.replaceChildren("شکایت ثبت شد"),t.style.backgroundColor="#efefef",t.style.color="#333"):(t.replaceChildren(o),alert("خطا"))})}function filter_orders(e,t){1===t.length&&window.open(e,"_self")}function fitler_user_orders(){const e=document.getElementById("order-status").selectedItems;1===e.length&&window.open("/user/orders/"+e[0]+"/","_self")}function filter_shop_orders(){const e=document.getElementById("order-status").selectedItems;1===e.length&&window.open("/shop/orders/"+e[0]+"/","_self")}function get_wallet(){load_view("/account/wallet","get",null)}function get_messages(){load_view("/messages/","get")}function _select_tab(){const e=event.target,t=e.dataset.tab,n=e.parentNode.parentNode.children;for(let e=0;e<n.length;++e)n[e].classList.remove("tran");document.getElementById(t).classList.add("tran")}function select_tab(){const e=event.target;if(e.classList.contains("tab-item")){const t=e.dataset.tab;console.log(t);const n=e.parentNode.children;for(let e=0;e<n.length;++e)n[e].classList.remove("tab-item-selected");const o=e.parentNode.parentNode.getElementsByClassName("tab-contents")[0].children;for(let e=0;e<o.length;++e)o[e].classList.remove("tab-show-content");e.classList.add("tab-item-selected"),document.getElementById(t).classList.add("tab-show-content")}}function show_filter(){const e=document.getElementById("drawer"),t=document.getElementById("filter_box");e.setcc(t.content.cloneNode(!0)),e.open()}function accept_order(){load_view("/shop/order/"+document.getElementById("order_id").value+"/accept/")}function reject_order(){load_view("/shop/order/"+document.getElementById("order_id").value+"/reject/")}function send_tracking_code(){load_view("/shop/order/"+document.getElementById("order_id").value+"/tracking_code/?tracking_code="+document.getElementById("tracking_code").value)}function cancel_order(){load_view("/user/order/"+document.getElementById("order_id").value+"/cancel/")}function verify_recieved_order(){load_view("/user/order/"+document.getElementById("order_id").value+"/verify/")}function mark__as_read(){const e=event.target,t=e.dataset.id,n=document.createElement("span");n.className.add("loader"),e.replaceChildren(n),get("/messages/"+t+"/mark_as_read",function(t,n){200===n&&e.remove()})}function filter_product(){const e=get_selecteds("filter-categories",!1,!0),t=get_selecteds("filter-types",!1,!0),n=get_selecteds("filter-subtypes",!1,!0),o=get_selecteds("filter-brands",!1,!0),s=document.getElementById("filter-colors").children;let d="";for(let e=0;e<s.length;++e)s[e].classList.contains("inline-item--selected")&&(d+=","+s[e].dataset.id);const c=document.getElementById("filter-sizes").children;let r="";for(let e=0;e<c.length;++e)c[e].classList.contains("inline-item--selected")&&(r+=","+c[e].dataset.id);document.getElementById("categories").value=e,document.getElementById("types").value=t,document.getElementById("subtypes").value=n,document.getElementById("brands").value=o,document.getElementById("colors").value=d,document.getElementById("sizes").value=d}function register_checkout_request(){}function issue_deposit(){get("/payments/pay/?type=deposit&amount="+document.getElementById("deposit-amount").value+"/")}